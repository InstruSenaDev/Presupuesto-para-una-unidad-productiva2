---
const response = await fetch("http://localhost:3000/user");
const usuarios = await response.json();
---

<!-- src/components/Dashboard.astro -->
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
/>

<div class="ml-[250px] p-[20px]">
  <div class="bg-[#f5f5f5] p-[20px] rounded-[10px] mb-[20px]">
    <div class="bg-white p-[20px] rounded-[10px] mb-[20px]">
      <h3 class="mb-[20px]"></h3>

      <div>
        <input
          type="text"
          class="w-[300px] p-[8px] rounded-[5px] border border-[#0e0d0d]"
          placeholder="Search"
        />
        <table class="w-full border-collapse">
          <thead>
            <tr>
              <th class="p-[10px] text-left border-b border-[#ccc]"
                >Nombre usuario</th
              >
              <th class="p-[10px] text-left border-b border-[#ccc]"
                >Correo electronico</th
              >
              <th class="p-[10px] text-left border-b border-[#ccc]"
                >Tipo documento</th
              >
              <th class="p-[10px] text-left border-b border-[#ccc]">Estado</th>

              <th class="p-[10px] text-left border-b border-[#ccc]"></th>
            </tr>
          </thead>
          <tbody>
            <!-- Aquí comienza la integración con los usuarios traídos desde el backend -->
            {
              usuarios.map((usuario) => (
                <tr class="border-t">
                  <td class="p-[10px] border-b border-[#ccc]">
                    {usuario.nombre}
                  </td>
                  <td class="p-[10px] border-b border-[#ccc]">
                    {usuario.correo}
                  </td>
                  <td class="p-[10px] border-b border-[#ccc]">
                    {usuario.tipodocumento}
                  </td>
                  <td class="p-[10px] border-b border-[#ccc]">
                    {usuario.estado}
                  </td>
                  <td class="p-[8px] border-b border-[#ccc]">
                    <button class="text-center font-bold">
                      <i class="bi bi-pencil-square" />
                    </button>
                    <button class="text-center font-bold">
                      <i class="bi bi-trash" />
                    </button>
                  </td>
                </tr>
              ))
            }
          </tbody>
        </table>

        <div id="data-container"></div>
        <div id="paginator">
          <button id="prev-btn">Anterior</button>
          <button id="next-btn">Siguiente</button>
        </div>
      </div>
    </div>
  </div>
  <script src="../js/paginadorTablaFamiliar.js"></script>
</div>
